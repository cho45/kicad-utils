{"version":3,"sources":["webpack:///webpack/bootstrap b0e9e90cd85b6dbc0803","webpack:///./kicad_common.ts","webpack:///./kicad_lib.ts","webpack:///./static/js/app.js","webpack:///./kicad_plotter.ts"],"names":[],"mappings":"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","file":"./static/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0e9e90cd85b6dbc0803","//#!tsc --target ES6 --module commonjs kicad.ts && node kicad.js\n// typings install ds~node\n///<reference path=\"./typings/index.d.ts\"/>\n//\n/*\n * This program source code file is part of kicad-js.\n * Copyright (C) 2017 cho45 <cho45@lowreal.net>.\n *\n * And this program source code file is imported from KiCad, a free EDA CAD application.\n *\n * Original Author Copyright:\n *\n * Copyright (C) 2015 Jean-Pierre Charras, jaen-pierre.charras@gipsa-lab.inpg.com\n * Copyright (C) 1992-2017 KiCad Developers, see KiCAD AUTHORS.txt for contributors.\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, you may find one here:\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n * or you may search the http://www.gnu.org website for the version 2 license,\n * or you may write to the Free Software Foundation, Inc.,\n * 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA\n */\n\nexport const DEFAULT_LINE_WIDTH = 6;\n\nexport function DECIDEG2RAD(deg: number): number {\n\treturn deg * Math.PI / 1800;\n}\n\nexport function RAD2DECIDEG(rad: number): number {\n\treturn rad * 1800 / Math.PI;\n}\n\nexport function NORMALIZE_ANGLE_POS(angle: number): number {\n\twhile ( angle < 0 ) angle += 3600;\n\twhile ( angle >= 3600 ) angle -= 3600;\n\treturn angle;\n}\n\nexport class Transform {\n\tconstructor(public x1: number = 1, public y1: number = 0, public x2: number = 0, public y2: number = -1) {\n\t}\n\n\ttransformCoordinate(p: Point): Point {\n\t\treturn {\n\t\t\tx: (this.x1 * p.x) + (this.y1 * p.y),\n\t\t\ty: (this.x2 * p.x) + (this.y2 * p.y)\n\t\t};\n\t}\n\n\tmapAngles(angle1: number, angle2: number): Array<number> {\n\t\tlet angle, delta;\n\t\tlet x, y, t;\n\t\tlet swap = 0;\n\n\t\tdelta = angle2 - angle1;\n\t\tif( delta >= 1800 )\n\t\t{\n\t\t\tangle1 -= 1;\n\t\t\tangle2 += 1;\n\t\t}\n\n\t\tx = Math.cos( DECIDEG2RAD( angle1 ) );\n\t\ty = Math.sin( DECIDEG2RAD( angle1 ) );\n\t\tt = x * this.x1 + y * this.y1;\n\t\ty = x * this.x2 + y * this.y2;\n\t\tx = t;\n\t\tangle1 = Math.round( RAD2DECIDEG( Math.atan2( y, x ) ) );\n\n\t\tx = Math.cos( DECIDEG2RAD( angle2 ) );\n\t\ty = Math.sin( DECIDEG2RAD( angle2 ) );\n\t\tt = x * this.x1 + y * this.y1;\n\t\ty = x * this.x2 + y * this.y2;\n\t\tx = t;\n\t\tangle2 = Math.round( RAD2DECIDEG( Math.atan2( y, x ) ) );\n\n\t\tangle1 = NORMALIZE_ANGLE_POS( angle1 );\n\t\tangle2 = NORMALIZE_ANGLE_POS( angle2 );\n\t\tif( angle2 < angle1 )\n\t\t\tangle2 += 3600;\n\n\t\tif( angle2 - angle1 > 1800 ) // Need to swap the two angles\n\t\t{\n\t\t\tangle   = (angle1);\n\t\t\tangle1 = (angle2);\n\t\t\tangle2 = angle;\n\n\t\t\tangle1 = NORMALIZE_ANGLE_POS( angle1 );\n\t\t\tangle2 = NORMALIZE_ANGLE_POS( angle2 );\n\t\t\tif( angle2 < angle1 )\n\t\t\t\tangle2 += 3600;\n\t\t\tswap = 1;\n\t\t}\n\n\t\tif( delta >= 1800 )\n\t\t{\n\t\t\tangle1 += 1;\n\t\t\tangle2 -= 1;\n\t\t}\n\n\t\treturn [angle1, angle2, swap];\n\t}\n}\n\nexport class Point {\n\tx: number;\n\ty: number;\n\n\tconstructor(x: number, y: number) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tstatic add(p1: Point, p2: Point): Point {\n\t\treturn {\n\t\t\tx: p1.x + p2.x,\n\t\t\ty: p1.y + p2.y,\n\t\t};\n\t}\n\n\tstatic sub(p1: Point, p2: Point): Point {\n\t\treturn {\n\t\t\tx: p1.x - p2.x,\n\t\t\ty: p1.y - p2.y,\n\t\t};\n\t}\n\n\tstatic isZero(p: Point): boolean {\n\t\treturn p.x === 0 && p.y === 0;\n\t}\n}\n\nexport class Rect {\n\tpos1: Point;\n\tpos2: Point;\n\n\tconstructor(pos1x: number, pos1y: number, pos2x: number, pos2y: number) {\n\t\tthis.pos1 = new Point(pos1x, pos1y);\n\t\tthis.pos2 = new Point(pos2x, pos2y);\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.pos2.x - this.pos1.x;\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.pos2.y - this.pos1.y;\n\t}\n\n\tmerge(o: Rect): Rect {\n\t\treturn new Rect(\n\t\t\tMath.min(this.pos1.x, o.pos1.x),\n\t\t\tMath.min(this.pos1.y, o.pos1.y),\n\t\t\tMath.max(this.pos2.x, o.pos2.x),\n\t\t\tMath.max(this.pos2.y, o.pos2.y)\n\t\t);\n\t}\n\n\tinflate(n: number): this {\n\t\tthis.pos1.x -= n;\n\t\tthis.pos1.y -= n;\n\t\tthis.pos2.x += n;\n\t\tthis.pos2.y += n;\n\t\treturn this;\n\t}\n}\n\nexport enum Fill {\n\tNO_FILL = \"N\",\n\tFILLED_SHAPE = \"F\",\n\tFILLED_WITH_BG_BODYCOLOR = \"f\",\n}\n\nexport enum TextHjustify {\n\tLEFT = \"L\",\n\tCENTER = \"C\",\n\tRIGHT =\" R\",\n}\n\nexport enum TextVjustify {\n\tTOP = \"T\",\n\tCENTER = \"C\",\n\tBOTTOM = \"B\",\n}\n\nexport enum PinOrientation {\n\tRIGHT = \"R\",\n\tLEFT = \"L\",\n\tUP = \"U\",\n\tDOWN = \"D\",\n}\n\nexport enum TextAngle {\n\tHORIZ = 0,\n\tVERT = 900,\n}\n\nexport enum PinType {\n\tPIN_INPUT = \"I\",\n\tPIN_OUTPUT = \"O\",\n\tPIN_BIDI = \"B\",\n\tPIN_TRISTATE = \"T\",\n\tPIN_PASSIVE = \"P\",\n\tPIN_UNSPECIFIED = \"U\",\n\tPIN_POWER_IN = \"W\",\n\tPIN_POWER_OUT = \"w\",\n\tPIN_OPENCOLLECTOR = \"C\",\n\tPIN_OPENEMITTER = \"E\",\n\tPIN_NC = \"N\",\n};\n\nexport enum PinAttribute {\n\tNONE            = \"~\",\n\tINVERTED        = \"I\",\n\tCLOCK           = \"C\",\n\tLOWLEVEL_IN     = \"L\",\n\tLOWLEVEL_OUT    = \"V\",\n\tFALLING_EDGE    = \"F\",\n\tNONLOGIC        = \"X\",\n\tINVISIBLE       = \"N\",\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./kicad_common.ts","//#!tsc --target ES6 --noUnusedLocals --module commonjs kicad.ts && node kicad.js\n// typings install ds~node\n///<reference path=\"./typings/index.d.ts\"/>\n\n/*\n * This program source code file is part of kicad-js.\n * Copyright (C) 2017 cho45 <cho45@lowreal.net>.\n *\n * And this program source code file is imported from KiCad, a free EDA CAD application.\n *\n * Original Author Copyright:\n *\n * Copyright (C) 2015 Jean-Pierre Charras, jaen-pierre.charras@gipsa-lab.inpg.com\n * Copyright (C) 1992-2017 KiCad Developers, see KiCAD AUTHORS.txt for contributors.\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, you may find one here:\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n * or you may search the http://www.gnu.org website for the version 2 license,\n * or you may write to the Free Software Foundation, Inc.,\n * 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA\n */\n\n/**\n * imported from:\n * eeschema/lib_text.cpp\n * eeschema/lib_rectangle.cpp\n * eeschema/lib_polyline.cpp\n * eeschema/lib_pin.cpp\n * eeschema/lib_field.cpp\n * eeschema/lib_draw_item.cpp\n * eeschema/lib_circle.cpp\n * eeschema/lib_arc.cpp\n */\nimport {\n\tFill,\n\tTextHjustify,\n\tTextVjustify,\n\tPinOrientation,\n\tTextAngle,\n\tPinType,\n\tPinAttribute,\n\tRect,\n\tPoint,\n\tTransform,\n} from \"./kicad_common\";\n\nexport class Library {\n\tcomponents: Array<Component>;\n\n\tstatic load(content: string): Library {\n\t\tconst lines = content.split(/\\n/);\n\t\tconst lib = new this();\n\t\tlib.parse(lines);\n\t\treturn lib;\n\t}\n\n\tconstructor() {\n\t\tthis.components = [];\n\t}\n\n\tparse(lines: Array<string>): void {\n\t\tlet line;\n\n\t\tconst version = lines.shift();\n\t\tif (!version || version.indexOf('EESchema-LIBRARY Version 2.3') !== 0) {\n\t\t\tthrow \"unknwon library format\";\n\t\t}\n\n\t\twhile (line = lines.shift()) {\n\t\t\tif (line[0] === '#') continue;\n\t\t\tconst tokens = line.split(/ +/);\n\t\t\tif (tokens[0] === 'DEF') {\n\t\t\t\tthis.components.push(new Component(tokens.slice(1)).parse(lines));\n\t\t\t} else {\n\t\t\t\tthrow 'unknown token ' + tokens[0];\n\t\t\t}\n\t\t}\n\t}\n\n\tfindByName(name: string) : Component {\n\t\tconst ret = this.components.find( (i) => i.name === name);\n\t\tif (!ret) {\n\t\t\tthrow \"Component notfound\";\n\t\t}\n\t\treturn ret;\n\t}\n}\n\nexport class Component {\n\tdraw: Draw;\n\tfplist: Array<string>;\n\taliases: Array<string>;\n\tfield: Field0;\n\tfields: Array<FieldN>;\n\n\tname: string;\n\treference: string;\n\ttextOffset: number;\n\tdrawPinnumber: boolean;\n\tdrawPinname: boolean;\n\tunitCount: number;\n\tunitsLocked: boolean;\n\toptionFlag: string;\n\n\tconstructor(params: Array<string>) {\n\t\tthis.name = params[0];\n\t\tthis.reference = params[1];\n\t\tthis.textOffset = Number(params[3]);\n\t\tthis.drawPinnumber = params[4] === 'Y';\n\t\tthis.drawPinname   = params[5] === 'Y';\n\t\tthis.unitCount     = Number(params[6]);\n\t\tthis.unitsLocked = params[7] === 'Y';\n\t\tthis.optionFlag = params[8];\n\t\tthis.fields = [];\n\t}\n\n\tparse(lines: Array<string>): this {\n\t\tlet line;\n\t\twhile (line = lines.shift()) {\n\t\t\tif (line === 'ENDDEF') break;\n\t\t\tconst tokens = line.split(/ +/);\n\t\t\tif (tokens[0] === 'DRAW') {\n\t\t\t\tthis.draw = new Draw().parse(lines);\n\t\t\t} else\n\t\t\tif (tokens[0] === 'ALIAS') {\n\t\t\t\tthis.aliases = tokens.slice(1);\n\t\t\t} else\n\t\t\tif (tokens[0] === 'F0') {\n\t\t\t\tthis.field = new Field0(tokens.slice(1));\n\t\t\t} else\n\t\t\tif (tokens[0].match(/^F\\d+/)) {\n\t\t\t\tthis.fields.push(new FieldN(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === '$FPLIST') {\n\t\t\t\tthis.fplist = [];\n\t\t\t\twhile (line = lines.shift()) {\n\t\t\t\t\tif (line === '$ENDFPLIST') break;\n\t\t\t\t\tthis.fplist.push(tokens[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow 'unknown token ' + tokens[0];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}\n\nexport class Field0 {\n\treference: string;\n\tposx: number;\n\tposy: number;\n\ttextSize: number;\n\ttextOrientation: number;\n\tvisibility: string;\n\thtextJustify: string;\n\tvtextJustify: string;\n\n\tconstructor(params: Array<string>) {\n\t\tthis.reference = params[0].replace(/^\"|\"$/g, '');\n\t\tthis.posx = Number(params[1]);\n\t\tthis.posy = Number(params[2]);\n\t\tthis.textSize = Number(params[3]);\n\t\tthis.textOrientation = params[4] === 'H' ? TextAngle.HORIZ : TextAngle.VERT;\n\t\tthis.visibility = params[5];\n\t\tthis.htextJustify = params[6];\n\t\tthis.vtextJustify = params[7];\n\t}\n}\n\nexport class FieldN {\n\tname: string;\n\tposx: number;\n\tposy: number;\n\ttextSize: number;\n\ttextOrientation: number;\n\tvisibility: string;\n\thtextJustify: string;\n\tvtextJustify: string;\n\tfieldname: string;\n\n\tconstructor(params: Array<string>) {\n\t\tthis.name = params[0].replace(/''/g, '\"').replace(/~/g, ' ').replace(/^\"|\"$/g, '');\n\t\tthis.posx = Number(params[1]);\n\t\tthis.posy = Number(params[2]);\n\t\tthis.textSize = Number(params[3]);\n\t\tthis.textOrientation = params[4] === 'H' ? TextAngle.HORIZ : TextAngle.VERT;\n\t\tthis.visibility = params[5];\n\t\tthis.htextJustify = params[6];\n\t\tthis.vtextJustify = params[7];\n\t\tthis.fieldname = params[8];\n\t}\n}\n\nexport class Draw {\n\tobjects: Array<DrawObject> = [];\n\n\tconstructor() {\n\t}\n\n\tparse(lines: Array<string>): this {\n\t\tlet line;\n\t\twhile (line = lines.shift()) {\n\t\t\tif (line === 'ENDDRAW') break;\n\t\t\tconst tokens = line.split(/ +/);\n\t\t\tif (tokens[0] === 'A') { // ARC\n\t\t\t\tthis.objects.push(new DrawArc(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === 'C') { // CIRCLE\n\t\t\t\tthis.objects.push(new DrawCircle(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === 'P') { // POLYLINE\n\t\t\t\tthis.objects.push(new DrawPolyline(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === 'S') { // SQUEARE\n\t\t\t\tthis.objects.push(new DrawSquare(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === 'T') { // TEXT\n\t\t\t\tthis.objects.push(new DrawText(tokens.slice(1)));\n\t\t\t} else\n\t\t\tif (tokens[0] === 'X') { // PIN\n\t\t\t\tthis.objects.push(new DrawPin(tokens.slice(1)));\n\t\t\t} else {\n\t\t\t\tthrow \"unknown token \" + tokens[0];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\tgetBoundingRect(): Rect | undefined {\n\t\tlet rect;\n\t\tfor (let o of this.objects) {\n\t\t\tconst box = o.getBoundingBox();\n\t\t\tif (!rect) {\n\t\t\t\trect = box;\n\t\t\t} else {\n\t\t\t\trect = rect.merge(box);\n\t\t\t}\n\t\t}\n\n\t\treturn rect;\n\t}\n}\n\nabstract class DrawObject {\n\t/**\n\t * Unit identification for multiple parts per package.  Set to 0 if the\n\t * item is common to all units.\n\t */\n\tunit: number;\n\n\t/**\n\t * Shape identification for alternate body styles.  Set 0 if the item\n\t * is common to all body styles.  This is commonly referred to as\n\t * DeMorgan style and this is typically how it is used in KiCad.\n\t */\n\tconvert: number;\n\n\tfill: Fill;\n\n\tabstract getBoundingBox(): Rect;\n}\n\nexport class DrawArc extends DrawObject {\n\tposx: number;\n\tposy: number;\n\tradius: number;\n\tstartAngle: number; // First radius angle of the arc in 0.1 degrees. \n\tendAngle: number; // Second radius angle of the arc in 0.1 degrees. \n\tlineWidth: number;\n\tstartx: number;\n\tstarty: number;\n\tendx: number;\n\tendy: number;\n\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.posx = Number(params[0]);\n\t\tthis.posy = Number(params[1]);\n\t\tthis.radius = Number(params[2]);\n\t\tthis.startAngle = Number(params[3]);\n\t\tthis.endAngle = Number(params[4]);\n\t\tthis.unit = Number(params[5]);\n\t\tthis.convert = Number(params[6]);\n\t\tthis.lineWidth = Number(params[7]);\n\t\tthis.fill = params[8] as Fill || Fill.NO_FILL;\n\t\tthis.startx = Number(params[9]);\n\t\tthis.starty = Number(params[10]);\n\t\tthis.endx = Number(params[11]);\n\t\tthis.endy = Number(params[12]);\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\tconst ret = new Rect(0, 0, 0, 0);\n\t\tconst arcStart = { x: this.startx, y: this.starty };\n\t\tconst arcEnd   = { x: this.endx, y: this.endy };\n\t\tconst pos      = { x: this.posx, y: this.posy };\n\t\tconst normStart = Point.sub(arcStart, pos);\n\t\tconst normEnd = Point.sub(arcEnd, pos);\n\n\t\tif (Point.isZero(normStart) || Point.isZero(normEnd) || this.radius === 0) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tconst transform = new Transform();\n\n\t\tconst startPos = transform.transformCoordinate(arcStart);\n\t\tconst endPos = transform.transformCoordinate(arcEnd);\n\t\tconst centerPos = transform.transformCoordinate(pos);\n\n\t\tlet [startAngle, endAngle, swap] = transform.mapAngles(this.startAngle, this.endAngle);\n\t\tif (swap) {\n\t\t\t[endPos.x, startPos.x] = [startPos.x, endPos.x];\n\t\t\t[endPos.y, startPos.y] = [startPos.y, endPos.y];\n\t\t}\n\n\t\tlet minX = Math.min(startPos.x, endPos.x);\n\t\tlet minY = Math.min(startPos.y, endPos.y);\n\t\tlet maxX = Math.max(startPos.x, endPos.x);\n\t\tlet maxY = Math.max(startPos.y, endPos.y);\n\n\t\t/* Zero degrees is a special case. */\n\t\tif ( this.startAngle === 0 )\n\t\t\tmaxX = centerPos.x + this.radius;\n\n\t\t/* Arc end angle wrapped passed 360. */\n\t\tif( startAngle > endAngle )\n\t\t\tendAngle += 3600;\n\n\t\tif( startAngle <= 900 && endAngle >= 900 )          /* 90 deg */\n\t\t\tmaxY = centerPos.y + this.radius;\n\n\t\tif( startAngle <= 1800 && endAngle >= 1800 )        /* 180 deg */\n\t\t\tminX = centerPos.x - this.radius;\n\n\t\tif( startAngle <= 2700 && endAngle >= 2700 )        /* 270 deg */\n\t\t\tminY = centerPos.y - this.radius;\n\n\t\tif( startAngle <= 3600 && endAngle >= 3600 )        /* 0 deg   */\n\t\t\tmaxX = centerPos.x + this.radius;\n\n\t\tret.pos1.x = minX;\n\t\tret.pos1.y = minY;\n\t\tret.pos2.x = maxX;\n\t\tret.pos2.y = maxY;\n\n\t\treturn ret;\n\t}\n}\n\nexport class DrawCircle extends DrawObject {\n\tposx: number;\n\tposy: number;\n\tradius: number;\n\tlineWidth: number;\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.posx = Number(params[0]);\n\t\tthis.posy = Number(params[1]);\n\t\tthis.radius = Number(params[2]);\n\t\tthis.unit = Number(params[3]);\n\t\tthis.convert = Number(params[4]);\n\t\tthis.lineWidth = Number(params[5]);\n\t\tthis.fill = params[6] as Fill || Fill.NO_FILL;\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\tconst transform = new Transform();\n\n\t\tconst pos1 = transform.transformCoordinate({ x: this.posx - this.radius, y: this.posy - this.radius });\n\t\tconst pos2 = transform.transformCoordinate({ x: this.posx + this.radius, y: this.posy + this.radius });\n\n\t\treturn new Rect(\n\t\t\tMath.min(pos1.x, pos2.x),\n\t\t\tMath.min(pos1.y, pos2.y),\n\t\t\tMath.max(pos1.x, pos2.x),\n\t\t\tMath.max(pos1.y, pos2.y)\n\t\t);\n\t}\n}\n\nexport class DrawPolyline extends DrawObject {\n\tpointCount: number;\n\tlineWidth: number;\n\tpoints: Array<number>;\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.pointCount = Number(params[0]);\n\t\tthis.unit = Number(params[1]);\n\t\tthis.convert = Number(params[2]);\n\t\tthis.lineWidth = Number(params[3]);\n\t\tthis.points = params.slice(4, 4 + (this.pointCount * 2)).map( (i) => Number(i) );\n\t\tthis.fill = params[4 + (this.pointCount * 2)] as Fill || Fill.NO_FILL;\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\tlet minx, maxx;\n\t\tlet miny, maxy;\n\n\t\tminx = maxx = this.points[0];\n\t\tminy = maxy = this.points[1];\n\n\t\tfor (var i = 2, len = this.points.length; i < len; i += 2) {\n\t\t\tconst x = this.points[i];\n\t\t\tconst y = this.points[i+1];\n\t\t\tminx = Math.min(minx, x);\n\t\t\tmaxx = Math.max(maxx, x);\n\t\t\tminy = Math.min(miny, y);\n\t\t\tmaxy = Math.max(maxy, y);\n\t\t}\n\n\t\tconst transform = new Transform();\n\t\tconst pos1 = transform.transformCoordinate({x: minx, y: miny });\n\t\tconst pos2 = transform.transformCoordinate({x: maxx, y: maxy });\n\n\t\treturn new Rect(\n\t\t\tMath.min(pos1.x, pos2.x),\n\t\t\tMath.min(pos1.y, pos2.y),\n\t\t\tMath.max(pos1.x, pos2.x),\n\t\t\tMath.max(pos1.y, pos2.y)\n\t\t);\n\t}\n}\n\nexport class DrawSquare extends DrawObject {\n\tstartx: number;\n\tstarty: number;\n\tendx: number;\n\tendy: number;\n\tlineWidth: number;\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.startx = Number(params[0]);\n\t\tthis.starty = Number(params[1]);\n\t\tthis.endx = Number(params[2]);\n\t\tthis.endy = Number(params[3]);\n\t\tthis.unit = Number(params[4]);\n\t\tthis.convert = Number(params[5]);\n\t\tthis.lineWidth = Number(params[6]);\n\t\tthis.fill = params[7] as Fill || Fill.NO_FILL;\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\tconst transform = new Transform();\n\t\tconst pos1 = transform.transformCoordinate({x: this.startx, y: this.starty });\n\t\tconst pos2 = transform.transformCoordinate({x: this.endx, y: this.endy });\n\n\t\treturn new Rect(\n\t\t\tMath.min(pos1.x, pos2.x),\n\t\t\tMath.min(pos1.y, pos2.y),\n\t\t\tMath.max(pos1.x, pos2.x),\n\t\t\tMath.max(pos1.y, pos2.y)\n\t\t);\n\t}\n}\n\nexport class DrawText extends DrawObject {\n\tangle: number;\n\tposx: number;\n\tposy: number;\n\ttextSize: number;\n\ttextType: number;\n\ttext: string;\n\titalic: boolean;\n\tbold: boolean;\n\thjustify: TextHjustify;\n\tvjustify: TextVjustify;\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.angle = Number(params[0]);\n\t\tthis.posx = Number(params[1]);\n\t\tthis.posy = Number(params[2]);\n\t\tthis.textSize = Number(params[3]);\n\t\tthis.textType = Number(params[4]);\n\t\tthis.unit = Number(params[5]);\n\t\tthis.convert = Number(params[6]);\n\t\tthis.text = params[7].replace(/''/g, '\"').replace(/~/g, ' ').replace(/^\"|\"$/g, '');\n\t\tthis.italic = params[8] === 'Italic';\n\t\tthis.bold = Number(params[9]) > 0;\n\t\tthis.hjustify = params[10] as TextHjustify;\n\t\tthis.vjustify = params[11] as TextVjustify;\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\t// TODO\n\t\treturn new Rect(\n\t\t\tthis.posx - (this.angle === 0 ? this.text.length * this.textSize : 0),\n\t\t\tthis.posy - (this.angle !== 0 ? this.text.length * this.textSize : 0),\n\t\t\tthis.posx + (this.angle === 0 ? this.text.length * this.textSize : 0),\n\t\t\tthis.posy + (this.angle !== 0 ? this.text.length * this.textSize : 0)\n\t\t);\n\t}\n}\n\nexport class DrawPin extends DrawObject {\n\tname: string;\n\tnum: string;\n\tposx: number;\n\tposy: number;\n\tlength: number;\n\torientation: PinOrientation;\n\tnameTextSize: number;\n\tnumTextSize: number;\n\tpinType: PinType;\n\tattributes: Array<PinAttribute>;\n\n\tconstructor(params: Array<string>) {\n\t\tsuper();\n\t\tthis.name = params[0];\n\t\tthis.num = params[1];\n\t\tthis.posx = Number(params[2]);\n\t\tthis.posy = Number(params[3]);\n\t\tthis.length = Number(params[4]);\n\t\tthis.orientation = params[5] as PinOrientation;\n\t\tthis.nameTextSize = Number(params[6]);\n\t\tthis.numTextSize = Number(params[7]);\n\t\tthis.unit = Number(params[8]);\n\t\tthis.convert = Number(params[9]);\n\t\tthis.pinType = params[10] as PinType;\n\t\tthis.attributes = (params[11] || '').split('') as Array<PinAttribute>;\n\t}\n\n\tgetBoundingBox(): Rect {\n\t\t// TODO\n\t\treturn new Rect(\n\t\t\tthis.posx - this.length,\n\t\t\tthis.posy - this.length,\n\t\t\tthis.posx + this.length,\n\t\t\tthis.posy + this.length,\n\t\t);\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./kicad_lib.ts","\nconst { Transform } = require(\"./kicad_common\");\nconst { CanvasPlotter } = require(\"./kicad_plotter\");\nconst { Library } = require(\"./kicad_lib\");\n//import { Trasform } from \"../../kicad_common\";\n//import { CanvasPlotter } from \"../../kicad_plotter\";\n//import { Library } from \"../../kicad_lib\";\n\n//const lib = Library.load(\"foobar\");\n//console.log(lib);\n\n\nconst app = new Vue({\n\tel: '#app',\n\tdata: {\n\t\tlib: {},\n\t\tcomponents: [],\n\t},\n\n\tcreated: function () {\n\t\tthis.loadLibrary();\n\t},\n\n\tmethods: {\n\t\tloadLibrary: async function (url) {\n\t\t\tconsole.log('loadLibrary');\n\t\t\t// const res = await fetch(\"/lib/device.lib\");\n\t\t\tconst res = await fetch(location.search.substring(1) || '/lib/device.lib');\n\t\t\tconst text = await res.text();\n\t\t\tconst lib = Library.load(text);\n\t\t\tthis.lib = lib;\n\t\t\tthis.components = lib.components;\n\t\t},\n\n\t\tplot: function (component) {\n\t\t\tconst rect = component.draw.getBoundingRect();\n\t\t\tif (!rect) {\n\t\t\t\treturn \"data:\";\n\t\t\t}\n\t\t\tconst width = rect.getWidth(), height = rect.getHeight();\n\t\t\tconsole.log('plot', component.name, rect, width, height);\n\t\t\tconst canvas = document.createElement('canvas');\n\t\t\tcanvas.width = width + 400;\n\t\t\tcanvas.height = height + 400;\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\tctx.translate(canvas.width / 2, canvas.height / 2);\n\t\t\tctx.stokeStyle = '#000';\n\t\t\tctx.fillStyle  = '#000';\n\n\t\t\tconst plotter = new CanvasPlotter(ctx);\n\t\t\tplotter.plotComponent(component, 1, 1, { x: 0, y: 0 }, new Transform());\n\n\t\t\treturn canvas.toDataURL();\n\t\t}\n\t}\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/js/app.js\n// module id = 2\n// module chunks = 0","//#!tsc --target ES6 --noUnusedLocals --module commonjs kicad.ts && node kicad.js\n// typings install ds~node\n///<reference path=\"./typings/index.d.ts\"/>\n\n/*\n * This program source code file is part of kicad-js.\n * Copyright (C) 2017 cho45 <cho45@lowreal.net>.\n *\n * And this program source code file is imported from KiCad, a free EDA CAD application.\n *\n * Original Author Copyright:\n *\n * Copyright (C) 2015 Jean-Pierre Charras, jaen-pierre.charras@gipsa-lab.inpg.com\n * Copyright (C) 1992-2017 KiCad Developers, see KiCAD AUTHORS.txt for contributors.\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, you may find one here:\n * http://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n * or you may search the http://www.gnu.org website for the version 2 license,\n * or you may write to the Free Software Foundation, Inc.,\n * 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA\n */\n\nimport {\n\tDECIDEG2RAD,\n\tDEFAULT_LINE_WIDTH,\n\n\tFill,\n\tTextHjustify,\n\tTextVjustify,\n\tPinOrientation,\n\tTextAngle,\n\n\tTransform,\n\tPoint,\n} from \"./kicad_common\";\n\nimport {\n\tComponent,\n\tDrawPin,\n\tDrawArc,\n\tDrawCircle,\n\tDrawPolyline,\n\tDrawSquare,\n\tDrawText,\n} from \"./kicad_lib\";\n\n\n/**\n * similar to KiCAD Plotter\n *\n */\nexport abstract class Plotter {\n\tfill: Fill;\n\n\tabstract rect(p1: Point, p2: Point, fill: Fill, width: number): void;\n\tabstract circle(p: Point, dia: number, fill: Fill, width: number): void;\n\tabstract arc(p: Point, startAngle: number, endAngle: number, radius: number, fill: Fill, width: number): void;\n\tabstract polyline(points: Array<Point>, fill: Fill, width: number): void;\n\tabstract setCurrentLineWidth(w: number): void;\n\tabstract penTo(p: Point, s: \"U\"|\"D\"|\"Z\"): void;\n\tabstract text(\n\t\tp: Point,\n\t\tcolor: string,\n\t\ttext: string,\n\t\torientation: number,\n\t\tsize: number,\n\t\thjustfy: TextHjustify,\n\t\tvjustify: TextVjustify,\n\t\twidth: number,\n\t\titalic: boolean,\n\t\tbold: boolean,\n\t\tmultiline?: boolean,\n\t): void;\n\n\tmoveTo(p: Point): void;\n\tmoveTo(x: number, y: number): void;\n\tmoveTo(x: any, y?: number): void {\n\t\tif (typeof y === 'number') {\n\t\t\tthis.penTo({x: x, y: y}, \"U\");\n\t\t} else {\n\t\t\tthis.penTo(x, \"U\");\n\t\t}\n\t}\n\n\tlineTo(p: Point): void;\n\tlineTo(x: number, y: number): void;\n\tlineTo(x: any, y?: number): void {\n\t\tif (typeof y === 'number') {\n\t\t\tthis.penTo({x: x, y: y}, \"D\");\n\t\t} else {\n\t\t\tthis.penTo(x, \"D\");\n\t\t}\n\t}\n\n\tfinishTo(p: Point): void;\n\tfinishTo(x: number, y: number): void;\n\tfinishTo(x: any, y?: number): void {\n\t\tif (typeof y === 'number') {\n\t\t\tthis.penTo({x: x, y: y}, \"D\");\n\t\t\tthis.penTo({x: x, y: y}, \"Z\");\n\t\t} else {\n\t\t\tthis.penTo(x, \"D\");\n\t\t\tthis.penTo(x, \"Z\");\n\t\t}\n\t}\n\n\tfinishPen(): void {\n\t\tthis.penTo({x: 0, y: 0}, \"Z\");\n\t}\n\n\t/**\n\t * kicad-js implements plot methods to plotter instead of each library items.\n\t */\n\tplotComponent(component: Component, unit: number, convert: number, offset: Point, transform: Transform): void {\n\t\tif (component.field) {\n\t\t\tconst pos = Point.add(transform.transformCoordinate({ x: component.field.posx, y: component.field.posy}), offset);\n\t\t\tthis.text(\n\t\t\t\tpos,\n\t\t\t\t\"black\",\n\t\t\t\tcomponent.field.reference,\n\t\t\t\tcomponent.field.textOrientation,\n\t\t\t\tcomponent.field.textSize,\n\t\t\t\tTextHjustify.CENTER,\n\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t0,\n\t\t\t\tfalse,\n\t\t\t\tfalse\n\t\t\t);\n\t\t}\n\n\t\tif (component.fields[0]) {\n\t\t\tconst pos = Point.add(transform.transformCoordinate({ x: component.fields[0].posx, y: component.fields[0].posy}), offset);\n\t\t\tthis.text(\n\t\t\t\tpos,\n\t\t\t\t\"black\",\n\t\t\t\tcomponent.fields[0].name,\n\t\t\t\tcomponent.field.textOrientation,\n\t\t\t\tcomponent.fields[0].textSize,\n\t\t\t\tTextHjustify.CENTER,\n\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t0,\n\t\t\t\tfalse,\n\t\t\t\tfalse\n\t\t\t);\n\t\t}\n\n\t\tfor (let draw of component.draw.objects) {\n\t\t\tif (draw.unit !== 0 && unit !== draw.unit) {\n\t\t\t\tcontinue;\n\t\t\t};\n\t\t\tif (draw.convert !== 0 && convert !== draw.convert) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (draw instanceof DrawArc) {\n\t\t\t\tconst pos = Point.add(transform.transformCoordinate({ x: draw.posx, y: draw.posy}), offset);\n\t\t\t\tconst [startAngle, endAngle] = transform.mapAngles(draw.startAngle, draw.endAngle);\n\n\t\t\t\tthis.arc(\n\t\t\t\t\tpos,\n\t\t\t\t\tstartAngle,\n\t\t\t\t\tendAngle,\n\t\t\t\t\tdraw.radius,\n\t\t\t\t\tdraw.fill,\n\t\t\t\t\tDEFAULT_LINE_WIDTH\n\t\t\t\t);\n\t\t\t} else\n\t\t\tif (draw instanceof DrawCircle) {\n\t\t\t\tconst pos = Point.add(transform.transformCoordinate({ x: draw.posx, y: draw.posy}), offset);\n\t\t\t\tthis.circle(\n\t\t\t\t\tpos,\n\t\t\t\t\tdraw.radius * 2,\n\t\t\t\t\tdraw.fill,\n\t\t\t\t\tDEFAULT_LINE_WIDTH\n\t\t\t\t);\n\t\t\t} else\n\t\t\tif (draw instanceof DrawPolyline) {\n\t\t\t\tconst points: Array<Point> = [];\n\t\t\t\tfor (let i = 0, len = draw.points.length; i < len; i += 2) {\n\t\t\t\t\tconst pos = Point.add(transform.transformCoordinate({x:draw.points[i] , y:draw.points[i+1] }), offset);\n\t\t\t\t\tpoints.push(pos);\n\t\t\t\t}\n\t\t\t\tthis.polyline(\n\t\t\t\t\tpoints,\n\t\t\t\t\tdraw.fill,\n\t\t\t\t\tDEFAULT_LINE_WIDTH\n\t\t\t\t);\n\t\t\t} else\n\t\t\tif (draw instanceof DrawSquare) {\n\t\t\t\tconst pos1 = Point.add(transform.transformCoordinate({x: draw.startx, y: draw.starty}), offset);\n\t\t\t\tconst pos2 = Point.add(transform.transformCoordinate({x: draw.endx, y: draw.endy}), offset);\n\t\t\t\tthis.rect(\n\t\t\t\t\tpos1,\n\t\t\t\t\tpos2,\n\t\t\t\t\tdraw.fill,\n\t\t\t\t\tDEFAULT_LINE_WIDTH\n\t\t\t\t);\n\t\t\t} else\n\t\t\tif (draw instanceof DrawText) {\n\t\t\t\tconst pos = Point.add(transform.transformCoordinate({ x: draw.posx, y: draw.posy}), offset);\n\t\t\t\tthis.text(\n\t\t\t\t\tpos,\n\t\t\t\t\t\"black\",\n\t\t\t\t\tdraw.text,\n\t\t\t\t\tcomponent.field.textOrientation,\n\t\t\t\t\tdraw.textSize,\n\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t0,\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t} else\n\t\t\tif (draw instanceof DrawPin) {\n\t\t\t\tthis.plotPin(draw, component, offset, transform);\n\t\t\t} else {\n\t\t\t\tthrow 'unknown draw object type: ' + draw.constructor.name;\n\t\t\t}\n\t\t}\n\t}\n\n\tplotPin(draw: DrawPin, component: Component, offset: Point, transform: Transform ):void {\n\t\tthis.plotPinTexts(draw, component, offset, transform);\n\t\tthis.plotPinSymbol(draw, component, offset, transform);\n\t}\n\n\tplotPinTexts(draw: DrawPin, component: Component, offset: Point, transform: Transform ): void {\n\t\tconst pos = Point.add(transform.transformCoordinate({ x: draw.posx, y: draw.posy}), offset);\n\t\tlet x1 = pos.x, y1 = pos.y;\n\t\tif (draw.orientation === PinOrientation.UP) {\n\t\t\ty1 -= draw.length;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.DOWN) {\n\t\t\ty1 += draw.length;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.LEFT) {\n\t\t\tx1 -= draw.length;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.RIGHT) {\n\t\t\tx1 += draw.length;\n\t\t}\n\n\t\tconst nameOffset = 4;\n\t\tconst numOffset  = 4;\n\t\tconst textInside = component.textOffset;\n\n\t\tconst isHorizontal = draw.orientation === PinOrientation.LEFT || draw.orientation === PinOrientation.RIGHT;\n\n\t\tif (textInside) {\n\t\t\tif (isHorizontal) {\n\t\t\t\tif (component.drawPinname) {\n\t\t\t\t\tif (draw.orientation === PinOrientation.RIGHT) {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1 + textInside, y: y1},\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.HORIZ,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.LEFT,\n\t\t\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1 - textInside, y: y1},\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.HORIZ,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.RIGHT,\n\t\t\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (component.drawPinnumber) {\n\t\t\t\t\tthis.text(\n\t\t\t\t\t\t{x: (x1 + pos.x) / 2, y: y1 + numOffset},\n\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\tTextAngle.HORIZ,\n\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\tTextVjustify.BOTTOM,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (draw.orientation === PinOrientation.DOWN) {\n\t\t\t\t\tif (component.drawPinname) {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1, y: y1 + textInside },\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.RIGHT,\n\t\t\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (component.drawPinnumber) {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1 - numOffset, y: (y1 + pos.y) / 2 },\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.RIGHT,\n\t\t\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (component.drawPinname) {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1, y: y1 - textInside },\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.LEFT,\n\t\t\t\t\t\t\tTextVjustify.CENTER,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (component.drawPinnumber) {\n\t\t\t\t\t\tthis.text(\n\t\t\t\t\t\t\t{x: x1 - numOffset, y: (y1 + pos.y) / 2 },\n\t\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\t\tTextVjustify.BOTTOM,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (isHorizontal) {\n\t\t\t\tif (component.drawPinname) {\n\t\t\t\t\tthis.text(\n\t\t\t\t\t\t{ x: (x1 + pos.x) / 2, y: y1 - nameOffset },\n\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\tTextAngle.HORIZ,\n\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\tTextVjustify.BOTTOM,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tif (component.drawPinnumber) {\n\t\t\t\t\tthis.text(\n\t\t\t\t\t\t{ x: (x1 + pos.x) / 2, y: y1 + numOffset },\n\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\tdraw.num,\n\t\t\t\t\t\tTextAngle.HORIZ,\n\t\t\t\t\t\tdraw.numTextSize,\n\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\tTextVjustify.TOP,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (component.drawPinname) {\n\t\t\t\t\tthis.text(\n\t\t\t\t\t\t{x: x1 - nameOffset, y: (y1 + pos.y) / 2},\n\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\tdraw.name,\n\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\tdraw.nameTextSize,\n\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\tTextVjustify.BOTTOM,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tif (component.drawPinnumber) {\n\t\t\t\t\tthis.text(\n\t\t\t\t\t\t{x: x1 + numOffset, y: (y1 + pos.y) / 2},\n\t\t\t\t\t\t\"black\",\n\t\t\t\t\t\tdraw.num,\n\t\t\t\t\t\tTextAngle.VERT,\n\t\t\t\t\t\tdraw.numTextSize,\n\t\t\t\t\t\tTextHjustify.CENTER,\n\t\t\t\t\t\tTextVjustify.TOP,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tplotPinSymbol(draw: DrawPin, component: Component, offset: Point, transform: Transform): void {\n\t\tconst pos = Point.add(transform.transformCoordinate({ x: draw.posx, y: draw.posy}), offset);\n\t\tconst orientation = this.pinDrawOrientation(draw, transform);\n\t\t\n\t\tlet x1 = pos.x, y1 = pos.y;\n\t\tlet mapX1 = 0, mapY1 = 0;\n\n\t\tif (orientation === PinOrientation.UP) {\n\t\t\ty1 -= draw.length;\n\t\t\tmapY1 = 1;\n\t\t} else\n\t\tif (orientation === PinOrientation.DOWN) {\n\t\t\ty1 += draw.length;\n\t\t\tmapY1 = -1;\n\t\t} else\n\t\tif (orientation === PinOrientation.LEFT) {\n\t\t\tx1 -= draw.length;\n\t\t\tmapX1 = 1;\n\t\t} else\n\t\tif (orientation === PinOrientation.RIGHT) {\n\t\t\tx1 += draw.length;\n\t\t\tmapX1 = -1;\n\t\t}\n\n\t\t// TODO shape\n\t\tthis.fill = Fill.NO_FILL;\n\t\tthis.setCurrentLineWidth(DEFAULT_LINE_WIDTH);\n\t\tthis.moveTo({ x: x1, y: y1 });\n\t\tthis.finishTo({ x: pos.x, y: pos.y});\n\t\tthis.circle({ x: pos.x, y: pos.y}, 20, Fill.NO_FILL, 2);\n\t}\n\n\tpinDrawOrientation(draw: DrawPin, transform: Transform): PinOrientation {\n\t\tlet end = { x: 0, y: 0 };\n\t\tif (draw.orientation === PinOrientation.UP) {\n\t\t\tend.y = 1;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.DOWN) {\n\t\t\tend.y = -1;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.LEFT) {\n\t\t\tend.x = -1;\n\t\t} else\n\t\tif (draw.orientation === PinOrientation.RIGHT) {\n\t\t\tend.x = 1;\n\t\t}\n\n\t\tend = transform.transformCoordinate(end);\n\n\t\tif (end.x === 0) {\n\t\t\tif (end.y > 0) {\n\t\t\t\treturn PinOrientation.DOWN;\n\t\t\t} else {\n\t\t\t\treturn PinOrientation.UP;\n\t\t\t}\n\t\t} else {\n\t\t\tif (end.x < 0) {\n\t\t\t\treturn PinOrientation.LEFT;\n\t\t\t} else {\n\t\t\t\treturn PinOrientation.RIGHT;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class CanvasPlotter extends Plotter {\n\tctx : any;\n\tpenState: \"U\"|\"D\"|\"Z\";\n\n\tconstructor(ctx: any) {\n\t\tsuper();\n\t\tthis.ctx = ctx;\n\t\tthis.penState = \"Z\";\n\t\tthis.fill = Fill.NO_FILL;\n\n\t\tthis.ctx.lineCap = \"round\";\n\t\tthis.ctx.strokeStyle = \"#000\";\n\t}\n\n\trect(p1: Point, p2: Point, fill: Fill, width: number): void {\n\t\tthis.setCurrentLineWidth(width);\n\t\tthis.fill = fill;\n\t\tthis.moveTo(p1.x, p1.y);\n\t\tthis.lineTo(p1.x, p2.y);\n\t\tthis.lineTo(p2.x, p2.y);\n\t\tthis.lineTo(p2.x, p1.y);\n\t\tthis.finishTo(p1.x, p1.y);\n\t}\n\n\tcircle(p: Point, dia: number, fill: Fill, width: number): void {\n\t\tthis.setCurrentLineWidth(width);\n\t\tthis.fill = fill;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(p.x, p.y, dia / 2, 0, Math.PI * 2, false);\n\t\tif (fill === Fill.FILLED_SHAPE) {\n\t\t\tthis.ctx.fill();\n\t\t} else {\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t}\n\n\tarc(p: Point, startAngle: number, endAngle: number, radius: number, fill: Fill, width: number): void {\n\t\tthis.setCurrentLineWidth(width);\n\t\tthis.fill = fill;\n\t\tthis.ctx.beginPath();\n\t\tconst anticlockwise = false;\n//\t\tthis.ctx.save();\n//\t\tthis.ctx.scale(1, -1);\n\t\tthis.ctx.arc(p.x, p.y, radius, startAngle / 10 * Math.PI / 180, endAngle / 10 * Math.PI / 180, anticlockwise);\n\t\tif (fill === Fill.FILLED_SHAPE) {\n\t\t\tthis.ctx.fill();\n\t\t} else {\n\t\t\tthis.ctx.stroke();\n\t\t}\n//\t\tthis.ctx.restore();\n\t}\n\n\tpolyline(points: Array<Point>, fill: Fill, width: number): void {\n\t\tthis.setCurrentLineWidth(width);\n\t\tthis.fill = fill;\n\t\tthis.moveTo(points[0]);\n\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\tthis.lineTo(points[i]);\n\t\t}\n\t\tthis.finishPen();\n\t}\n\n\ttext(\n\t\tp: Point,\n\t\tcolor: string,\n\t\ttext: string,\n\t\torientation: number,\n\t\tsize: number,\n\t\thjustfy: TextHjustify,\n\t\tvjustify: TextVjustify,\n\t\twidth: number,\n\t\titalic: boolean,\n\t\tbold: boolean,\n\t\tmultiline?: boolean,\n\t): void {\n\t\tif (hjustfy === TextHjustify.LEFT) {\n\t\t\tthis.ctx.textAlign = \"left\";\n\t\t} else\n\t\tif (hjustfy === TextHjustify.CENTER) {\n\t\t\tthis.ctx.textAlign = \"center\";\n\t\t} else\n\t\tif (hjustfy === TextHjustify.RIGHT) {\n\t\t\tthis.ctx.textAlign = \"right\";\n\t\t}\n\t\tif (vjustify === TextVjustify.TOP) {\n\t\t\tthis.ctx.textBaseline = \"top\";\n\t\t} else\n\t\tif (vjustify === TextVjustify.CENTER) {\n\t\t\tthis.ctx.textBaseline = \"middle\";\n\t\t} else\n\t\tif (vjustify === TextVjustify.BOTTOM) {\n\t\t\tthis.ctx.textBaseline = \"bottom\";\n\t\t}\n\t\tthis.ctx.save();\n\t\tthis.ctx.translate(p.x, p.y);\n\t\tthis.ctx.rotate(-DECIDEG2RAD(orientation));\n\t\tthis.ctx.font = size + \"px monospace\";\n\t\tthis.ctx.fillText(text, 0, 0);\n\t\tthis.ctx.restore();\n\t}\n\n\t/**\n\t * U = Pen is up\n\t * D = Pen is down\n\t * Z = Pen is outof canvas\n\t */\n\tpenTo(p: Point, s: \"U\"|\"D\"|\"Z\"): void {\n\t\tif (s === \"Z\") {\n\t\t\tif (this.fill === Fill.FILLED_SHAPE) {\n\t\t\t\t// console.log('ctx.fill', p);\n\t\t\t\tthis.ctx.fill();\n\t\t\t} else {\n\t\t\t\t// console.log('ctx.stroke', p);\n\t\t\t\tthis.ctx.stroke();\n\t\t\t}\n\t\t\tthis.penState = \"Z\";\n\t\t\treturn;\n\t\t}\n\n\t\t// s is U | D\n\n\t\tif (this.penState === \"Z\") {\n\t\t\tthis.ctx.beginPath();\n\t\t\t// console.log('ctx.beginPath');\n\t\t\t// console.log('ctx.moveTo', p);\n\t\t\tthis.ctx.moveTo(p.x, p.y);\n\t\t} else {\n\t\t\tif (s === \"U\") {\n\t\t\t\t// console.log('ctx.moveTo', p);\n\t\t\t\tthis.ctx.moveTo(p.x, p.y);\n\t\t\t} else {\n\t\t\t\t// console.log('ctx.lineTo', p);\n\t\t\t\tthis.ctx.lineTo(p.x, p.y);\n\t\t\t}\n\t\t}\n\n\t\tthis.penState = s;\n\t} \n\n\tsetCurrentLineWidth(w: number): void {\n\t\tthis.ctx.lineWidth = w;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kicad_plotter.ts"],"sourceRoot":""}